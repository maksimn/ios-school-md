# iOS-Dev. 

# SwiftUI

* Декларативность.
* Наличие удобного инструментария.

В SwiftUI подходе нет отдельных файлов с разметкой view, всё представлено в swift-коде.

Канвас в Xcode показывает превью представления. Превью тоже пишется на Swift. Поэтому превью можно кастомизировать.

Элементы можно перетаскивать на канвас из библиотеки элементов. И всё будет синхронно отображаться на канвасе и в коде.

`VStack` - общий layout-контейнер в SwiftUI. Складывает элементы в вертикальный стек.

`HStack` - аналогично горизонтальный стек.

Это контейнеры, т.е. любой элемент можно поместить внутрь их.

`Text` - элемент для представления текста.

На элемент в коде можно нажать Command + click + Embed into HStack.

`Image` - элемент для представления изображения.

```swift
VStack(alignment: .leading) {
  ...
}
```

Так задается свойство `alignment` для элемента.

Инспектировать элемент на канвасе: Ctrl + Option + click.

```swift
Text("Some text")
  .font(.subheadline) // задать шрифт текста.
  .foregroundColor(.secondary)
```

Такие методы в SwiftUI называются "модификаторами" (modifiers). Это позволяют задать _вид_ и _поведение_ элементов интерфейса.

`List` - элемент для представления списка. У него нет делегата или data source, только представления элементов списка.

`Identifiable` - интерфейс для элемента списка данных, чтобы можно было работать с их появляением/уходом в SwiftUI. У него есть свойство `id` типа `UUID`.

Элементы списка получают нужный им размер ячеек автоматически.

Список модифаеров можно увидеть в Xcode library. Модификаторы можно перенести на канвас.

`NavigationView` - элемент для навигации в приложении. Имеет navigation bar и navigation stack.

```swift
NavigationView {
  // ... 
}.navigationTitle("Some title")
```

`NavigationLink` - элемент, который позволяет запушить некоторое представление на вершину стека навигации.

Превью имеет кнопку, позволяющую перейти в режим живого взаимодействия с экраном превью.

Для того, чтобы вынести вью из данного большого вью, нажимаем в Xcode Command + click над вью в коде -> Extract subview. То есть в SwiftUI очень удобно работать с разделением ответственности.

`ForEach(collection) { ... }` создает вью для каждого элемента в коллекции.

`Spacer()` - layout-элемент в SwiftUI.

Модификаторы `Image()`:

`resizable()`

`aspectRatio(contentMode: .fill)`

## Устройство SwiftUI

View в SwiftUI - это структура, поэтому она не наследует хранимых свойств.

View в SwiftUI - lightweight.

Протокол `View` требует только одно свойство: `body`.

Но вью определяет не только свой ui, но и _зависимости_.

Пользователь может совершать действия, напр. тапать или переключать представление из одно вида в другой.

```swift
struct SandwichDetail: View {
  let sandwich: Sandwich

  @State private var zoomed = false

  var body: some View {

  }
}
```

Для этого нужно завести state-переменную. Тогда будет выделен pesistent storage для хранения этой переменной от имени данного вью.

