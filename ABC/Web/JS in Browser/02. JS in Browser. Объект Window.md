# JS in Browser. Объект Window.

## 1. Таймеры

Метод setTimeout() объекта Window ставит функцию в расписание для запуска после того, как пройдёт заданное число миллисекунд. setTimeout() возвращает значение, которое может быть передано методу clearTimeout(), чтобы отменить исполнение поставленной в расписание функции.

Метод setInterval() подобен setTimeout(), за исключением того, что заданная функция вызывается повторно через интервалы, заданные через количество миллисекунд:

```js
setInterval(updateClock, 60000);
```

## 2. Локация и навигация браузера
Свойство location объекта Window относится к объекту Location, который представляет текущий URL документа, изображённого в окне, и который также определяет методы, которые делают так, чтобы окно загрузило новый документ. Свойство location объекта Document также ссылается на объект Location:

```js
window.location === document.location // always true
```

Объект Document также имеет свойство URL, которое является статичной строкой, хранящей URL документа, когда он был загружен в первый раз.

### 2.1. Парсинг URL

Свойство href объекта Location – строка, которая содержит полный текст URL. Метод toString() объекта возвращает значение свойства href.

Другие свойства этого объекта — protocol, host, hostname, port, pathname, search, hash. 

Интересными являются свойства hash и search. Свойство hash возвращает часть URL, являющуюся "идентификатором фрагмента" (если он имеется): знак хэша #, после которого идёт ID элемента. Свойство search возвращает часть URL, начинающуюся со знака вопроса – это своего рода строка запроса.

### 2.2. Загрузка новых документов

Для этого применяются методы assign() и replace(). Метод reload() перезагружает текущий документ. Более традиционный способ работы – просто присвоить строку URL свойству location:

```js
location = "http://www.oreilly.com"; // Go buy some books
```

## 3. История просмотра страниц

Свойство history окна, методы back(), forward(), go().

## 4. Информация о браузере и экране

### 1 Объект Navigator

Свойство navigator объекта Window относится к объекту Navigator, который содержит информацию о поставщике браузера и номере версии.

Имеет 4 свойства про тип браузера: appName, appVersion, userAgent, platform. 
И ещё свойства onLine, geolocation, javaEnabled(), cookiesEnabled(). 

Применять подход с данным объектом не рекомендуется, лучше делать тестирование функциональности и т. п.

### 2 Объект Screen

Свойство screen объекта окна относится к объекту Screen, который предоставляет информацию о размере пользовательского дисплея и количестве доступных цветов.

## 5. Диалоговые окна

alert() – изображает сообщение для пользователя и ожидает закрытия пользователем.

confirm() – изображает сообщение, ожидает клика пользователя по кнопке OK или Cancel, и возвращает булево значение.

prompt() – ожидает ввода пользователем строки, и возвращает эту строку.

showModalDialog() – более сложный и функциональный метод.


## 6. Обработка ошибок

Свойство onerror объекта Window – это обработчик события, которые вызывается, когда необработанное исключение распространяется вверх по стеку вызовов и сообщение об ошибке готовится отобразиться в консоли браузера JavaScript. Оно является пережитком тех времён, когда в JS не было обработки исключений.


## 7. Элементы документа как свойства объекта Window.

Чтобы использование метода document.getElementById() было менее обременительным, можно дать ему более простое имя:

```js
   var ui = {}; 
   var $ = function(id) { return document.getElementById(id); };
   ui.prompt = $("prompt");
```

## 8. Множественные окна и фреймы

Отдельное окно браузера может содержать несколько вкладок. Каждая вкладка является независимым контекстом просмотра. Каждая имеет свой объект Window, и каждая изолирована от всех других.

Но окна не всегда изолированы друг от друга. Сценарий в одном окне или вкладке может открывать новые окна или вкладки, и когда он делает это, окна могут взаимодействовать друг с другом и документами друг друга (подчиняясь ограничениям политики ограничения домена). 

HTML документы могут содержать вложенные документы, используя элемент `<iframe>`. Фрейм создаёт вложенный контекст просмотра, представленный собственным объектом Window. Устаревшие элементы `<frameset>` и `<frame>` тоже создают вложенные контексты просмотра, и каждый элемент фрейма тоже представлен окном. Вложенные контексты просмотра не изолированы друг от друга тем же образом, как обычные независимые вкладки. Сценарий из одного фрейма всегда "видит" свои фреймы-предки и потомки, хотя политика ограничения домена может помешать сценарию инспектировать документы этих фреймов.

Поскольку объект Window – это глобальный объект в клиентском JS, каждое окно или фрейм имеет отдельный контекст исполнения JS. Тем не менее, код JS в одном окне может, подчиняясь ограничениям домена, использовать объекты, свойства и методы, определённые в других окнах. Когда политика ограничения домена мешает сценариям в двух различных окнах взаимодействовать напрямую, HTML5 предоставляет событийный API передачи сообщений для непрямой коммуникации.

### 8.1. Открытие и закрытие окна

Вы можете открыть новое окно браузера (или вкладку в зависимости от конфигурации браузера) методом open(). Метод загружает заданный URL в новое или существующее окно и возвращает объект Window, который представляет это окно. Свойство opener указывает на изначальное окно.

close() – метод закрытия окна.

### 8.2. Соотношения между фреймами

Открывшее и открытое окно могут ссылаться друг на друга, и обращаться к свойствам и методам друг друга.

Похожее имеет место и для фреймов. Код, выполняющийся в некотором окне или фрейме, может ссылаться на окно-контейнер или фрейм-контейнер, и на вложенные дочерние фреймы, используя свойства, описанные ниже.

```
window, self, parent, top.
```

Элементы `<iframe>` имеют свойство contentWindow, которое относится к объекту окна данного дрейма. Обратное свойство – frameElement – возвращает элемент-фрейм для данного окна.

`window.frames` – array-like набор фреймов окна.

### 8.3. JavaScript во взаимодействующих окнах

