## React Components

### ЖЦ React

Props - неизменны (не знал!).

State - изменяем.

Методы ЖЦ:

`getInitialState()` - можно задать начальный _State_.

`getDefaultProps()` - соотв. значения по умолчанию для свойств, если компонент-родитель не задал значения.

#### Методы жизненного цикла компонента

Похожи на ЖЦ Страницы ASP.NET. Реакт построен изоморфно, но некоторые из этих методов вызываются и на клиенте, и на сервере, а другие - только на клиенте.

`componentWillMount()` - Client & Server, __когда__ - до начального рендера, __зачем__ - хорошее место для задания начального состояния.

`componentDidMount()` - __когда__ - после рендера, __зачем__ - работа с DOM, можно начать работу с другими ФВ / библиотеками, задавать таймеры, делать AJAX-запросы.

`componentWillReceiveProps()` - __кода__ - при получении нового свойства, не вызывается при начальном рендере. __зачем__ - задать состояние перед рендером.

`shouldComponentUpdate()` - __когда__ - перед рендером, когда передаются новые свойства или состояние. Не при первом рендере. __зачем__ - производительность. Верните `false` для аннулирования ненужных перерисовок. 

`componentWillUpdate()` - __когда__ - непосредственно перед рендером, когда получены новые свойства или состояние. Не при начальном рендере. __зачем__ - подготовка к обновлению компонента. Нельзя вызывать `setState()` в нем.

`componentDidUpdate()` - __когда__ - после того, как обновления DOM произведены. Не при начальном рендере. __зачем__ - работа с DOM после обновления.

`componentWillUnmount()` - __когда__ - при удалении компонента из DOM. __зачем__ - для очистки.

### Композиция компонентов в React

Компонент верхнего уровня иногда называют __Controller View__. Он задает props для дочерних компонентов. И взаимодействует со `store` во Flux-архитектуре.

Вкладывать друг в друга top-level компоненты не рекомендуется.

Архитектура: 

Единственный ControllerView, взаимодействующий со store и задающий свойства вложенных в него компонентов.

Отсюда идет разделение на smart- и dumb-компоненты.

### Mixins

"Примеси". Предназначены для разделения общего кода между множественными компонентами.

------------------------
## Формы в React

